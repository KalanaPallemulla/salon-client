{"ast":null,"code":"var _jsxFileName = \"/Users/parkwaylabs/Documents/Projects/ECrew/TravelClient/src/Client/pages/Cart.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from \"react\";\nimport NavBar from \"../components/NavBar\";\nimport Footer from \"./HomePage/Footer\";\nimport Popup from \"reactjs-popup\";\nimport Register from \"./Register\";\nimport UserDetails from \"../components/Card/UserDetails\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport TextField from \"@material-ui/core/TextField\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { addToDb, removeFromCart } from \"../../actions/cart\";\nimport { getCouponByName } from \"../../actions/coupon\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function Cart({\n  close\n}) {\n  _s();\n\n  const dispatch = useDispatch();\n  const {\n    cartItems\n  } = useSelector(state => state.cart);\n  const {\n    coupon,\n    validate,\n    couponLoading,\n    error,\n    number\n  } = useSelector(state => state.coupon);\n  const [couponName, setCouponName] = useState(\"\");\n  const [price, setPrice] = useState(0);\n  const [dis, setDis] = useState(0);\n  const [userValues, setUserValues] = useState({\n    userName: \"\",\n    userEmail: \"\",\n    address: \"\",\n    city: \"\",\n    province: \"\",\n    userPhone: \"\"\n  }); //\n\n  const {\n    userName,\n    userEmail,\n    address,\n    city,\n    province,\n    userProvince\n  } = userValues;\n  const [location, setLocation] = useState(\"\");\n\n  const handleChange = e => {\n    setUserValues({ ...userValues,\n      [e.target.name]: e.target.value\n    });\n  }; // const { long, lat } = location;\n\n\n  const removeFromCartHandler = id => {\n    dispatch(removeFromCart(id));\n  };\n\n  const getSubTotal = () => {\n    return cartItems.reduce((price, item) => item.price + price, 0);\n  };\n\n  console.log(\"KJKASJNKXJSANKXJANSXNASKJXNAKSJXNAKJSNXKSAJ\", cartItems);\n  useEffect(() => {\n    if (cartItems.length > 0 && validate) {\n      let value = cartItems.reduce((price, item) => item.price + price, 0);\n      let dis = value - value * coupon.discount * 0.01;\n      setPrice(dis);\n      setDis(value * coupon.discount * 0.01);\n      console.log(\"Price\", dis);\n    } else if (cartItems > 0 && !validate) {\n      let value = cartItems.reduce((price, item) => item.price + price, 0);\n      setPrice(value);\n    }\n  }, [cartItems, couponName, coupon, validate]); // useEffect(() => {\n  //   if (coupon) {\n  //     let value = price * coupon * 0.01;\n  //     console.log(\"Discount\", value);\n  //     setPrice(value);\n  //   }\n  // }, [coupon, cartItems]);\n\n  const handleCoupon = e => {\n    e.preventDefault();\n    dispatch(getCouponByName(couponName));\n  };\n\n  useEffect(() => {\n    if (!validate) setDis(0);\n  }, [number]);\n\n  const handleProceed = e => {\n    e.preventDefault();\n    const data = {\n      userValues,\n      location,\n      price,\n      cartItems\n    };\n    dispatch(addToDb(data));\n  };\n\n  console.log(\"Price\", price);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"md:relative lg:relative \",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \" relative text-center w-full object-cover h-80 block mx-auto  sm:block sm:w-full\",\n      style: {\n        backgroundImage: `url(\"https://hips.hearstapps.com/ghk.h-cdn.co/assets/16/01/1452119085-woman-getting-hair-cut.jpg\")`\n      },\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \" content-center flex h-full\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \" m-auto\",\n          children: [\" \", /*#__PURE__*/_jsxDEV(\"h1\", {\n            className: \"text-4xl text-white font-bold \",\n            children: \"Bookings\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 101,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n            className: \"text-2xl text-white  \",\n            children: \"Add decription here \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 102,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 99,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex justify-center md:absolute md:top-72 md:left-36 lg:absolute lg:top-72 lg:left-36 lg:pb-40 md:pb-40\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex flex-col w-full p-8 text-gray-800 bg-white rounded overflow-hidden shadow-lg pin-r pin-y md:w-4/5 lg:w-4/5\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex-1\",\n          children: [/*#__PURE__*/_jsxDEV(\"table\", {\n            className: \"w-full text-sm lg:text-base\",\n            cellspacing: \"0\",\n            children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n              children: /*#__PURE__*/_jsxDEV(\"tr\", {\n                className: \"h-12 uppercase\",\n                children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                  className: \"hidden md:table-cell\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 113,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  className: \"text-left\",\n                  children: \"Package Name\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 114,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  className: \"text-right\",\n                  children: \"Time\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 115,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  className: \"text-right\",\n                  children: \"Location\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 116,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  className: \"text-right\",\n                  children: \"Price\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 117,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 112,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 111,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n              children: cartItems.length <= 0 || cartItems == null ? /*#__PURE__*/_jsxDEV(\"tr\", {\n                children: /*#__PURE__*/_jsxDEV(\"td\", {\n                  children: \"No services added\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 123,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 122,\n                columnNumber: 19\n              }, this) : cartItems.map(c => /*#__PURE__*/_jsxDEV(\"tr\", {\n                children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                  className: \"hidden pb-4 md:table-cell\",\n                  children: /*#__PURE__*/_jsxDEV(\"a\", {\n                    href: \"#\",\n                    children: /*#__PURE__*/_jsxDEV(\"img\", {\n                      src: `http://localhost:8000/api/servicesImage/${c.product}`,\n                      className: \"w-20 rounded\",\n                      alt: \"Thumbnail\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 130,\n                      columnNumber: 27\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 129,\n                    columnNumber: 25\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 128,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  children: /*#__PURE__*/_jsxDEV(\"a\", {\n                    href: \"#\",\n                    children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                      className: \"mb-2 md:ml-4\",\n                      children: c.name\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 139,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                      type: \"submit\",\n                      className: \"text-gray-700 md:ml-4\",\n                      onClick: () => removeFromCartHandler(c.product),\n                      children: /*#__PURE__*/_jsxDEV(\"small\", {\n                        children: \"(Remove item)\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 145,\n                        columnNumber: 29\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 140,\n                      columnNumber: 27\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 138,\n                    columnNumber: 25\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 137,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  className: \"hidden text-right md:table-cell\",\n                  children: /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"text-sm lg:text-base font-medium\",\n                    children: c.time\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 150,\n                    columnNumber: 25\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 149,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  className: \"hidden text-right md:table-cell\",\n                  children: /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"text-sm lg:text-base font-medium\",\n                    children: c.location\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 155,\n                    columnNumber: 25\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 154,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  className: \"hidden text-right md:table-cell\",\n                  children: /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"text-sm lg:text-base font-medium\",\n                    children: c.price\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 160,\n                    columnNumber: 25\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 159,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 127,\n                columnNumber: 21\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 120,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 110,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"my-4 mt-6 -mx-2 lg:flex\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"lg:px-2 lg:w-1/2\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"p-4 bg-gray-100 rounded-full\",\n                children: /*#__PURE__*/_jsxDEV(\"h1\", {\n                  className: \"ml-2 font-bold uppercase\",\n                  children: \"Coupon Code\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 173,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 172,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"p-4\",\n                children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"mb-4 italic\",\n                  children: \"If you have a coupon code, please enter it in the box below\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 176,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"justify-center md:flex\",\n                  children: /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"flex items-center w-full h-13 pl-3 bg-blue-50 rounded-full\",\n                    children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                      type: \"coupon\",\n                      name: \"couponName\",\n                      id: \"coupon\",\n                      placeholder: \"Apply coupon\",\n                      value: couponName,\n                      onChange: e => setCouponName(e.target.value),\n                      className: \"w-full outline-none appearance-none focus:outline-none active:outline-none bg-blue-50\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 181,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                      // onSubmit={(e) => {\n                      //   // e.preventDefault();\n                      //   handleCoupon(coupon);\n                      // }}\n                      onClick: handleCoupon,\n                      children: \"Submit\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 190,\n                      columnNumber: 23\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 180,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 179,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 175,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"p-4 mt-6\",\n                children: /*#__PURE__*/_jsxDEV(\"form\", {\n                  className: \"w-full\",\n                  noValidate: true,\n                  children: /*#__PURE__*/_jsxDEV(TextField, {\n                    id: \"time\",\n                    label: \"Add Your Time Here\",\n                    type: \"time\",\n                    defaultValue: \"09:30\",\n                    className: \"w-full\",\n                    InputLabelProps: {\n                      shrink: true\n                    },\n                    inputProps: {\n                      step: 300 // 5 min\n\n                    }\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 229,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 228,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 224,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"p-4\",\n                children: /*#__PURE__*/_jsxDEV(\"form\", {\n                  className: \"w-full\",\n                  noValidate: true,\n                  children: /*#__PURE__*/_jsxDEV(TextField, {\n                    id: \"date\",\n                    label: \"Select your Date Here\",\n                    type: \"date\",\n                    defaultValue: \"2019-05-24\",\n                    className: \"w-full\",\n                    InputLabelProps: {\n                      shrink: true\n                    }\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 246,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 245,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 244,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 171,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"lg:px-2 lg:w-1/2\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"p-4 bg-gray-100 rounded-full\",\n                children: /*#__PURE__*/_jsxDEV(\"h1\", {\n                  className: \"ml-2 font-bold uppercase\",\n                  children: \"Order Details\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 261,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 260,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"p-4\",\n                children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"mb-6 italic\",\n                  children: \"Shipping and additionnal costs are calculated based on values you have entered\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 264,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex justify-between border-b\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"lg:px-4 lg:py-2 m-2 text-lg lg:text-xl font-bold text-center text-gray-800\",\n                    children: \"Subtotal\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 269,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"lg:px-4 lg:py-2 m-2 lg:text-lg font-bold text-center text-gray-900\",\n                    children: [\"Rs.\", price.toFixed(2)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 272,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 268,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex justify-between pt-4 border-b\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"flex lg:px-4 lg:py-2 m-2 text-lg lg:text-xl font-bold text-gray-800\",\n                    children: [/*#__PURE__*/_jsxDEV(\"form\", {\n                      action: \"\",\n                      method: \"POST\",\n                      children: /*#__PURE__*/_jsxDEV(\"button\", {\n                        type: \"submit\",\n                        className: \"mr-2 mt-1 lg:mt-2\",\n                        children: /*#__PURE__*/_jsxDEV(\"svg\", {\n                          \"aria-hidden\": \"true\",\n                          \"data-prefix\": \"far\",\n                          \"data-icon\": \"trash-alt\",\n                          className: \"w-4 text-red-600 hover:text-red-800\",\n                          xmlns: \"http://www.w3.org/2000/svg\",\n                          viewBox: \"0 0 448 512\",\n                          children: /*#__PURE__*/_jsxDEV(\"path\", {\n                            fill: \"currentColor\",\n                            d: \"M268 416h24a12 12 0 0012-12V188a12 12 0 00-12-12h-24a12 12 0 00-12 12v216a12 12 0 0012 12zM432 80h-82.41l-34-56.7A48 48 0 00274.41 0H173.59a48 48 0 00-41.16 23.3L98.41 80H16A16 16 0 000 96v16a16 16 0 0016 16h16v336a48 48 0 0048 48h288a48 48 0 0048-48V128h16a16 16 0 0016-16V96a16 16 0 00-16-16zM171.84 50.91A6 6 0 01177 48h94a6 6 0 015.15 2.91L293.61 80H154.39zM368 464H80V128h288zm-212-48h24a12 12 0 0012-12V188a12 12 0 00-12-12h-24a12 12 0 00-12 12v216a12 12 0 0012 12z\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 288,\n                            columnNumber: 29\n                          }, this)\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 280,\n                          columnNumber: 27\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 279,\n                        columnNumber: 25\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 278,\n                      columnNumber: 23\n                    }, this), \"Coupon \\\"90off\\\"\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 277,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"lg:px-4 lg:py-2 m-2 lg:text-lg font-bold text-center text-green-700\",\n                    children: \"-133,944.77\\u20AC\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 297,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 276,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex justify-between pt-4 border-b\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"lg:px-4 lg:py-2 m-2 text-lg lg:text-xl font-bold text-center text-gray-800\",\n                    children: \"Discount\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 302,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"lg:px-4 lg:py-2 m-2 lg:text-lg font-bold text-center text-gray-900\",\n                    children: [\"Rs.\", dis.toFixed(2)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 305,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 301,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex justify-between pt-4 border-b\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"lg:px-4 lg:py-2 m-2 text-lg lg:text-xl font-bold text-center text-gray-800\",\n                    children: \"Tax\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 310,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"lg:px-4 lg:py-2 m-2 lg:text-lg font-bold text-center text-gray-900\",\n                    children: \"Rs.0.00\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 313,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 309,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex justify-between pt-4 border-b\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"lg:px-4 lg:py-2 m-2 text-lg lg:text-xl font-bold text-center text-gray-800\",\n                    children: \"Total\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 318,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"lg:px-4 lg:py-2 m-2 lg:text-lg font-bold text-center text-gray-900\",\n                    children: [\"Rs.\", coupon && coupon.discount != null ? price.toFixed(2) : price.toFixed(2)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 321,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 317,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(Popup, {\n                  trigger:\n                  /*#__PURE__*/\n                  // <button className=\"button\">Procceed to checkout </button>\n                  _jsxDEV(\"button\", {\n                    className: \"flex justify-center w-full px-10 py-3 mt-6 font-medium text-white uppercase bg-sitetheme-blue rounded-full shadow item-center hover:bg-white hover:text-sitetheme-blue border border-sitetheme-blue focus:shadow-outline focus:outline-none\",\n                    children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n                      \"aria-hidden\": \"true\",\n                      \"data-prefix\": \"far\",\n                      \"data-icon\": \"credit-card\",\n                      className: \"w-8\",\n                      xmlns: \"http://www.w3.org/2000/svg\",\n                      viewBox: \"0 0 576 512\",\n                      children: /*#__PURE__*/_jsxDEV(\"path\", {\n                        fill: \"currentColor\",\n                        d: \"M527.9 32H48.1C21.5 32 0 53.5 0 80v352c0 26.5 21.5 48 48.1 48h479.8c26.6 0 48.1-21.5 48.1-48V80c0-26.5-21.5-48-48.1-48zM54.1 80h467.8c3.3 0 6 2.7 6 6v42H48.1V86c0-3.3 2.7-6 6-6zm467.8 352H54.1c-3.3 0-6-2.7-6-6V256h479.8v170c0 3.3-2.7 6-6 6zM192 332v40c0 6.6-5.4 12-12 12h-72c-6.6 0-12-5.4-12-12v-40c0-6.6 5.4-12 12-12h72c6.6 0 12 5.4 12 12zm192 0v40c0 6.6-5.4 12-12 12H236c-6.6 0-12-5.4-12-12v-40c0-6.6 5.4-12 12-12h136c6.6 0 12 5.4 12 12z\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 341,\n                        columnNumber: 27\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 333,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"ml-2 mt-5px\",\n                      children: \"Procceed to checkout\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 346,\n                      columnNumber: 25\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 332,\n                    columnNumber: 23\n                  }, this),\n                  modal: true,\n                  nested: true,\n                  children: close => /*#__PURE__*/_jsxDEV(UserDetails, {\n                    close: close,\n                    userValues: userValues,\n                    handleChange: handleChange,\n                    location: location,\n                    handleProceed: handleProceed\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 355,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 329,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 263,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 259,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 170,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 109,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 91,\n    columnNumber: 5\n  }, this);\n}\n\n_s(Cart, \"sB8AlBQD+SVcZBT4RsiPwPK34iQ=\", false, function () {\n  return [useDispatch, useSelector, useSelector];\n});\n\n_c = Cart;\n\nvar _c;\n\n$RefreshReg$(_c, \"Cart\");","map":{"version":3,"sources":["/Users/parkwaylabs/Documents/Projects/ECrew/TravelClient/src/Client/pages/Cart.js"],"names":["React","useEffect","useState","NavBar","Footer","Popup","Register","UserDetails","makeStyles","TextField","useSelector","useDispatch","addToDb","removeFromCart","getCouponByName","Cart","close","dispatch","cartItems","state","cart","coupon","validate","couponLoading","error","number","couponName","setCouponName","price","setPrice","dis","setDis","userValues","setUserValues","userName","userEmail","address","city","province","userPhone","userProvince","location","setLocation","handleChange","e","target","name","value","removeFromCartHandler","id","getSubTotal","reduce","item","console","log","length","discount","handleCoupon","preventDefault","handleProceed","data","backgroundImage","map","c","product","time","shrink","step","toFixed"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport NavBar from \"../components/NavBar\";\nimport Footer from \"./HomePage/Footer\";\nimport Popup from \"reactjs-popup\";\nimport Register from \"./Register\";\nimport UserDetails from \"../components/Card/UserDetails\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport TextField from \"@material-ui/core/TextField\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { addToDb, removeFromCart } from \"../../actions/cart\";\nimport { getCouponByName } from \"../../actions/coupon\";\n\nexport default function Cart({ close }) {\n  const dispatch = useDispatch();\n  const { cartItems } = useSelector((state) => state.cart);\n  const { coupon, validate, couponLoading, error, number } = useSelector(\n    (state) => state.coupon\n  );\n  const [couponName, setCouponName] = useState(\"\");\n  const [price, setPrice] = useState(0);\n  const [dis, setDis] = useState(0);\n\n  const [userValues, setUserValues] = useState({\n    userName: \"\",\n    userEmail: \"\",\n    address: \"\",\n    city: \"\",\n    province: \"\",\n    userPhone: \"\",\n  });\n\n  //\n\n  const { userName, userEmail, address, city, province, userProvince } =\n    userValues;\n  const [location, setLocation] = useState(\"\");\n  const handleChange = (e) => {\n    setUserValues({ ...userValues, [e.target.name]: e.target.value });\n  };\n  // const { long, lat } = location;\n\n  const removeFromCartHandler = (id) => {\n    dispatch(removeFromCart(id));\n  };\n\n  const getSubTotal = () => {\n    return cartItems.reduce((price, item) => item.price + price, 0);\n  };\n\n  console.log(\"KJKASJNKXJSANKXJANSXNASKJXNAKSJXNAKJSNXKSAJ\", cartItems);\n\n  useEffect(() => {\n    if (cartItems.length > 0 && validate) {\n      let value = cartItems.reduce((price, item) => item.price + price, 0);\n      let dis = value - value * coupon.discount * 0.01;\n      setPrice(dis);\n      setDis(value * coupon.discount * 0.01);\n      console.log(\"Price\", dis);\n    } else if (cartItems > 0 && !validate) {\n      let value = cartItems.reduce((price, item) => item.price + price, 0);\n      setPrice(value);\n    }\n  }, [cartItems, couponName, coupon, validate]);\n\n  // useEffect(() => {\n  //   if (coupon) {\n  //     let value = price * coupon * 0.01;\n  //     console.log(\"Discount\", value);\n  //     setPrice(value);\n  //   }\n  // }, [coupon, cartItems]);\n\n  const handleCoupon = (e) => {\n    e.preventDefault();\n    dispatch(getCouponByName(couponName));\n  };\n\n  useEffect(() => {\n    if (!validate) setDis(0);\n  }, [number]);\n\n  const handleProceed = (e) => {\n    e.preventDefault();\n    const data = { userValues, location, price, cartItems };\n    dispatch(addToDb(data));\n  };\n\n  console.log(\"Price\", price);\n\n  return (\n    <div className=\"md:relative lg:relative \">\n      <div\n        className=\" relative text-center w-full object-cover h-80 block mx-auto  sm:block sm:w-full\"\n        style={{\n          backgroundImage: `url(\"https://hips.hearstapps.com/ghk.h-cdn.co/assets/16/01/1452119085-woman-getting-hair-cut.jpg\")`,\n        }}\n      >\n        <div className=\" content-center flex h-full\">\n          <div className=\" m-auto\">\n            {\" \"}\n            <h1 className=\"text-4xl text-white font-bold \">Bookings</h1>\n            <h1 className=\"text-2xl text-white  \">Add decription here </h1>\n          </div>\n        </div>\n      </div>\n      {/* cart start */}\n      <div className=\"flex justify-center md:absolute md:top-72 md:left-36 lg:absolute lg:top-72 lg:left-36 lg:pb-40 md:pb-40\">\n        <div className=\"flex flex-col w-full p-8 text-gray-800 bg-white rounded overflow-hidden shadow-lg pin-r pin-y md:w-4/5 lg:w-4/5\">\n          <div className=\"flex-1\">\n            <table className=\"w-full text-sm lg:text-base\" cellspacing=\"0\">\n              <thead>\n                <tr className=\"h-12 uppercase\">\n                  <th className=\"hidden md:table-cell\"></th>\n                  <th className=\"text-left\">Package Name</th>\n                  <th className=\"text-right\">Time</th>\n                  <th className=\"text-right\">Location</th>\n                  <th className=\"text-right\">Price</th>\n                </tr>\n              </thead>\n              <tbody>\n                {cartItems.length <= 0 || cartItems == null ? (\n                  <tr>\n                    <td>No services added</td>\n                  </tr>\n                ) : (\n                  cartItems.map((c) => (\n                    <tr>\n                      <td className=\"hidden pb-4 md:table-cell\">\n                        <a href=\"#\">\n                          <img\n                            src={`http://localhost:8000/api/servicesImage/${c.product}`}\n                            className=\"w-20 rounded\"\n                            alt=\"Thumbnail\"\n                          />\n                        </a>\n                      </td>\n                      <td>\n                        <a href=\"#\">\n                          <p className=\"mb-2 md:ml-4\">{c.name}</p>\n                          <button\n                            type=\"submit\"\n                            className=\"text-gray-700 md:ml-4\"\n                            onClick={() => removeFromCartHandler(c.product)}\n                          >\n                            <small>(Remove item)</small>\n                          </button>\n                        </a>\n                      </td>\n                      <td className=\"hidden text-right md:table-cell\">\n                        <span className=\"text-sm lg:text-base font-medium\">\n                          {c.time}\n                        </span>\n                      </td>\n                      <td className=\"hidden text-right md:table-cell\">\n                        <span className=\"text-sm lg:text-base font-medium\">\n                          {c.location}\n                        </span>\n                      </td>\n                      <td className=\"hidden text-right md:table-cell\">\n                        <span className=\"text-sm lg:text-base font-medium\">\n                          {c.price}\n                        </span>\n                      </td>\n                    </tr>\n                  ))\n                )}\n              </tbody>\n            </table>\n            {/* <hr className=\"pb-6 mt-6\"> */}\n            <div className=\"my-4 mt-6 -mx-2 lg:flex\">\n              <div className=\"lg:px-2 lg:w-1/2\">\n                <div className=\"p-4 bg-gray-100 rounded-full\">\n                  <h1 className=\"ml-2 font-bold uppercase\">Coupon Code</h1>\n                </div>\n                <div className=\"p-4\">\n                  <p className=\"mb-4 italic\">\n                    If you have a coupon code, please enter it in the box below\n                  </p>\n                  <div className=\"justify-center md:flex\">\n                    <div className=\"flex items-center w-full h-13 pl-3 bg-blue-50 rounded-full\">\n                      <input\n                        type=\"coupon\"\n                        name=\"couponName\"\n                        id=\"coupon\"\n                        placeholder=\"Apply coupon\"\n                        value={couponName}\n                        onChange={(e) => setCouponName(e.target.value)}\n                        className=\"w-full outline-none appearance-none focus:outline-none active:outline-none bg-blue-50\"\n                      />\n                      <button\n                        // onSubmit={(e) => {\n                        //   // e.preventDefault();\n                        //   handleCoupon(coupon);\n                        // }}\n                        onClick={handleCoupon}\n                      >\n                        Submit\n                      </button>\n                      {/* <button\n                        onSubmit={(e) => {\n                          e.preventDefault();\n                          handleCoupon(coupon);\n                        }}\n                        className=\"  text-sm flex items-center px-3 py-1 text-white bg-sitetheme-blue rounded-full outline-none md:px-4 hover:bg-white hover:text-sitetheme-blue border border-sitetheme-blue focus:outline-none active:outline-none\"\n                      >\n                        <svg\n                          aria-hidden=\"true\"\n                          data-prefix=\"fas\"\n                          data-icon=\"gift\"\n                          className=\"w-8\"\n                          xmlns=\"http://www.w3.org/2000/svg\"\n                          viewBox=\"0 0 512 512\"\n                        >\n                          <path\n                            fill=\"currentColor\"\n                            d=\"M32 448c0 17.7 14.3 32 32 32h160V320H32v128zm256 32h160c17.7 0 32-14.3 32-32V320H288v160zm192-320h-42.1c6.2-12.1 10.1-25.5 10.1-40 0-48.5-39.5-88-88-88-41.6 0-68.5 21.3-103 68.3-34.5-47-61.4-68.3-103-68.3-48.5 0-88 39.5-88 88 0 14.5 3.8 27.9 10.1 40H32c-17.7 0-32 14.3-32 32v80c0 8.8 7.2 16 16 16h480c8.8 0 16-7.2 16-16v-80c0-17.7-14.3-32-32-32zm-326.1 0c-22.1 0-40-17.9-40-40s17.9-40 40-40c19.9 0 34.6 3.3 86.1 80h-86.1zm206.1 0h-86.1c51.4-76.5 65.7-80 86.1-80 22.1 0 40 17.9 40 40s-17.9 40-40 40z\"\n                          />\n                        </svg>\n                        <span className=\"font-medium\">Apply coupon</span>\n                      </button> */}\n                    </div>\n                  </div>\n                </div>\n                <div className=\"p-4 mt-6\">\n                  {/* <h1 className=\"ml-2 font-bold uppercase\">\n                    Instruction for seller\n                  </h1> */}\n                  <form className=\"w-full\" noValidate>\n                    <TextField\n                      id=\"time\"\n                      label=\"Add Your Time Here\"\n                      type=\"time\"\n                      defaultValue=\"09:30\"\n                      className=\"w-full\"\n                      InputLabelProps={{\n                        shrink: true,\n                      }}\n                      inputProps={{\n                        step: 300, // 5 min\n                      }}\n                    />\n                  </form>\n                </div>\n                <div className=\"p-4\">\n                  <form className=\"w-full\" noValidate>\n                    <TextField\n                      id=\"date\"\n                      label=\"Select your Date Here\"\n                      type=\"date\"\n                      defaultValue=\"2019-05-24\"\n                      className=\"w-full\"\n                      InputLabelProps={{\n                        shrink: true,\n                      }}\n                    />\n                  </form>\n                </div>\n              </div>\n              <div className=\"lg:px-2 lg:w-1/2\">\n                <div className=\"p-4 bg-gray-100 rounded-full\">\n                  <h1 className=\"ml-2 font-bold uppercase\">Order Details</h1>\n                </div>\n                <div className=\"p-4\">\n                  <p className=\"mb-6 italic\">\n                    Shipping and additionnal costs are calculated based on\n                    values you have entered\n                  </p>\n                  <div className=\"flex justify-between border-b\">\n                    <div className=\"lg:px-4 lg:py-2 m-2 text-lg lg:text-xl font-bold text-center text-gray-800\">\n                      Subtotal\n                    </div>\n                    <div className=\"lg:px-4 lg:py-2 m-2 lg:text-lg font-bold text-center text-gray-900\">\n                      Rs.{price.toFixed(2)}\n                    </div>\n                  </div>\n                  <div className=\"flex justify-between pt-4 border-b\">\n                    <div className=\"flex lg:px-4 lg:py-2 m-2 text-lg lg:text-xl font-bold text-gray-800\">\n                      <form action=\"\" method=\"POST\">\n                        <button type=\"submit\" className=\"mr-2 mt-1 lg:mt-2\">\n                          <svg\n                            aria-hidden=\"true\"\n                            data-prefix=\"far\"\n                            data-icon=\"trash-alt\"\n                            className=\"w-4 text-red-600 hover:text-red-800\"\n                            xmlns=\"http://www.w3.org/2000/svg\"\n                            viewBox=\"0 0 448 512\"\n                          >\n                            <path\n                              fill=\"currentColor\"\n                              d=\"M268 416h24a12 12 0 0012-12V188a12 12 0 00-12-12h-24a12 12 0 00-12 12v216a12 12 0 0012 12zM432 80h-82.41l-34-56.7A48 48 0 00274.41 0H173.59a48 48 0 00-41.16 23.3L98.41 80H16A16 16 0 000 96v16a16 16 0 0016 16h16v336a48 48 0 0048 48h288a48 48 0 0048-48V128h16a16 16 0 0016-16V96a16 16 0 00-16-16zM171.84 50.91A6 6 0 01177 48h94a6 6 0 015.15 2.91L293.61 80H154.39zM368 464H80V128h288zm-212-48h24a12 12 0 0012-12V188a12 12 0 00-12-12h-24a12 12 0 00-12 12v216a12 12 0 0012 12z\"\n                            />\n                          </svg>\n                        </button>\n                      </form>\n                      Coupon \"90off\"\n                    </div>\n                    <div className=\"lg:px-4 lg:py-2 m-2 lg:text-lg font-bold text-center text-green-700\">\n                      -133,944.77\n                    </div>\n                  </div>\n                  <div className=\"flex justify-between pt-4 border-b\">\n                    <div className=\"lg:px-4 lg:py-2 m-2 text-lg lg:text-xl font-bold text-center text-gray-800\">\n                      Discount\n                    </div>\n                    <div className=\"lg:px-4 lg:py-2 m-2 lg:text-lg font-bold text-center text-gray-900\">\n                      Rs.{dis.toFixed(2)}\n                    </div>\n                  </div>\n                  <div className=\"flex justify-between pt-4 border-b\">\n                    <div className=\"lg:px-4 lg:py-2 m-2 text-lg lg:text-xl font-bold text-center text-gray-800\">\n                      Tax\n                    </div>\n                    <div className=\"lg:px-4 lg:py-2 m-2 lg:text-lg font-bold text-center text-gray-900\">\n                      Rs.0.00\n                    </div>\n                  </div>\n                  <div className=\"flex justify-between pt-4 border-b\">\n                    <div className=\"lg:px-4 lg:py-2 m-2 text-lg lg:text-xl font-bold text-center text-gray-800\">\n                      Total\n                    </div>\n                    <div className=\"lg:px-4 lg:py-2 m-2 lg:text-lg font-bold text-center text-gray-900\">\n                      Rs.\n                      {coupon && coupon.discount != null\n                        ? price.toFixed(2)\n                        : price.toFixed(2)}\n                    </div>\n                  </div>\n\n                  <Popup\n                    trigger={\n                      // <button className=\"button\">Procceed to checkout </button>\n                      <button className=\"flex justify-center w-full px-10 py-3 mt-6 font-medium text-white uppercase bg-sitetheme-blue rounded-full shadow item-center hover:bg-white hover:text-sitetheme-blue border border-sitetheme-blue focus:shadow-outline focus:outline-none\">\n                        <svg\n                          aria-hidden=\"true\"\n                          data-prefix=\"far\"\n                          data-icon=\"credit-card\"\n                          className=\"w-8\"\n                          xmlns=\"http://www.w3.org/2000/svg\"\n                          viewBox=\"0 0 576 512\"\n                        >\n                          <path\n                            fill=\"currentColor\"\n                            d=\"M527.9 32H48.1C21.5 32 0 53.5 0 80v352c0 26.5 21.5 48 48.1 48h479.8c26.6 0 48.1-21.5 48.1-48V80c0-26.5-21.5-48-48.1-48zM54.1 80h467.8c3.3 0 6 2.7 6 6v42H48.1V86c0-3.3 2.7-6 6-6zm467.8 352H54.1c-3.3 0-6-2.7-6-6V256h479.8v170c0 3.3-2.7 6-6 6zM192 332v40c0 6.6-5.4 12-12 12h-72c-6.6 0-12-5.4-12-12v-40c0-6.6 5.4-12 12-12h72c6.6 0 12 5.4 12 12zm192 0v40c0 6.6-5.4 12-12 12H236c-6.6 0-12-5.4-12-12v-40c0-6.6 5.4-12 12-12h136c6.6 0 12 5.4 12 12z\"\n                          />\n                        </svg>\n                        <span className=\"ml-2 mt-5px\">\n                          Procceed to checkout\n                        </span>\n                      </button>\n                    }\n                    modal\n                    nested\n                  >\n                    {(close) => (\n                      <UserDetails\n                        close={close}\n                        userValues={userValues}\n                        handleChange={handleChange}\n                        location={location}\n                        handleProceed={handleProceed}\n                      />\n                    )}\n                  </Popup>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}